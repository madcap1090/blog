<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>RAMMSTEIN By Rammstein | bad to the code</title>

<meta property='og:title' content='RAMMSTEIN By Rammstein - bad to the code'>
<meta property='og:description' content='Today Rammstein released ‘RAMMSTEIN’, first studio album since 10 years.
Jetzt geht es mir gut, ja!I love it. Gave me a lot of pleasure today.
Time for a small analysis. I got the code from Peer. And from plzbeemyfriend who is a cool dude, and made some insightful graphs based on Spotify data.
library(spotifyr) # install.packages(&quot;spotifyr&quot;)library(tidyverse)library(factoextra)library(viridisLite)library(ggiraphExtra)Spotify also has an API and some interesting information can be downloaded from it.'>
<meta property='og:url' content='/post/rammstein-by-rammstein/'>
<meta property='og:site_name' content='bad to the code'>
<meta property='og:type' content='article'><meta property='og:image' content='https://www.gravatar.com/avatar/5f460ebf37e30791f47bb5be3de73e3a?s=256'><meta property='article:author' content='https://facebook.com/OClassicoOficial/videos/391802167961744/'><meta property='article:section' content='Post'><meta property='article:tag' content='music'><meta property='article:tag' content='Spotify'><meta property='article:published_time' content='2019-05-17T00:00:00Z'/><meta property='article:modified_time' content='2019-05-17T00:00:00Z'/><meta name='twitter:card' content='summary'><meta name='twitter:site' content='@WilliamBourgeoi'><meta name='twitter:creator' content='@WilliamBourgeoi'>


<link href="/index.xml" rel="alternate" type="application/rss+xml" title="bad to the code" />

<link rel="stylesheet" href="/css/style.css"/><link rel='stylesheet' href='/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="/">
          <h1 class="title is-4">bad to the code</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile"><a class="level-item" aria-label="facebook" href='https://facebook.com/OClassicoOficial/videos/391802167961744/'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="email" href='mailto:madcap1090@gmail.com'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/williambourgeois'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="twitter" href='https://twitter.com/WilliamBourgeoi'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="github" href='https://github.com/madcap1090'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/music">#music</a>



  
  | <a class="subtitle is-6" href="/tags/spotify">#Spotify</a>
  

      
    </div>
    <h2 class="subtitle is-6">May 17, 2019</h2>
    <h1 class="title">RAMMSTEIN By Rammstein</h1>
    
    <div class="content">
      


<p>Today Rammstein released ‘RAMMSTEIN’, first studio album since 10 years.</p>
<center>
<strong>Jetzt geht es mir gut, ja!</strong>
</center>
<center>
<img src="/img/20190517/rammstein.jpg" alt="album cover - RAMMSTEIN" />
</center>
<p>I love it. Gave me a lot of pleasure today.</p>
<p>Time for a small analysis. I got the code from <a href="https://peerchristensen.netlify.com/post/clustering-springsteen-albums-with-spotifyr/">Peer</a>. And from <a href="https://twitter.com/plzbeemyfriend/status/1028080281323036678">plzbeemyfriend</a> who is a cool dude, and made some insightful graphs based on Spotify data.</p>
<pre class="r"><code>library(spotifyr) # install.packages(&quot;spotifyr&quot;)
library(tidyverse)
library(factoextra)
library(viridisLite)
library(ggiraphExtra)</code></pre>
<p>Spotify also has an API and some interesting information can be downloaded from it.</p>
<p>Spotify authentication:</p>
<pre class="r"><code>secrets &lt;- readRDS(&quot;~/R/geo/secret/secrets.rds&quot;) %&gt;% 
  filter(name == &quot;spotify&quot;)

clientId &lt;- secrets$id
clientSecret &lt;- secrets$key

Sys.setenv(SPOTIFY_CLIENT_ID = clientId)
Sys.setenv(SPOTIFY_CLIENT_SECRET = clientSecret)</code></pre>
<p>Downlaoding data in a data frame:</p>
<pre class="r"><code>spotify_df &lt;- get_artist_audio_features(&#39;Rammstein&#39;)

names(spotify_df)</code></pre>
<pre><code>##  [1] &quot;artist_name&quot;                  &quot;artist_id&quot;                   
##  [3] &quot;album_id&quot;                     &quot;album_type&quot;                  
##  [5] &quot;album_images&quot;                 &quot;album_release_date&quot;          
##  [7] &quot;album_release_year&quot;           &quot;album_release_date_precision&quot;
##  [9] &quot;danceability&quot;                 &quot;energy&quot;                      
## [11] &quot;key&quot;                          &quot;loudness&quot;                    
## [13] &quot;mode&quot;                         &quot;speechiness&quot;                 
## [15] &quot;acousticness&quot;                 &quot;instrumentalness&quot;            
## [17] &quot;liveness&quot;                     &quot;valence&quot;                     
## [19] &quot;tempo&quot;                        &quot;track_id&quot;                    
## [21] &quot;analysis_url&quot;                 &quot;time_signature&quot;              
## [23] &quot;artists&quot;                      &quot;available_markets&quot;           
## [25] &quot;disc_number&quot;                  &quot;duration_ms&quot;                 
## [27] &quot;explicit&quot;                     &quot;track_href&quot;                  
## [29] &quot;is_local&quot;                     &quot;track_name&quot;                  
## [31] &quot;track_preview_url&quot;            &quot;track_number&quot;                
## [33] &quot;type&quot;                         &quot;track_uri&quot;                   
## [35] &quot;external_urls.spotify&quot;        &quot;album_name&quot;                  
## [37] &quot;key_name&quot;                     &quot;mode_name&quot;                   
## [39] &quot;key_mode&quot;</code></pre>
<p>It has for instance links to three different sizes of the album images.</p>
<pre class="r"><code>spotify_df[[5]][[1]]</code></pre>
<pre><code>##   height                                                              url
## 1    640 https://i.scdn.co/image/1cfbb1da99c6259b43e1b53cf695c8850adc0241
## 2    300 https://i.scdn.co/image/389c1df3f21fa93570dde0b75332e75ab91bd878
## 3     64 https://i.scdn.co/image/2afdabd6b6318481fdb7e8288a170e8623d06ff7
##   width
## 1   640
## 2   300
## 3    64</code></pre>
<p>And of course the albums.</p>
<pre class="r"><code>unique(spotify_df$album_name)</code></pre>
<pre><code>##  [1] &quot;RAMMSTEIN&quot;               &quot;XXI - Klavier&quot;          
##  [3] &quot;RARITÄTEN (1994 - 2012)&quot; &quot;LIEBE IST FÜR ALLE DA&quot;  
##  [5] &quot;ROSENROT&quot;                &quot;REISE, REISE&quot;           
##  [7] &quot;Mutter&quot;                  &quot;Live aus Berlin&quot;        
##  [9] &quot;Sehnsucht&quot;               &quot;Herzeleid&quot;</code></pre>
<p>We can focus on the studio albums.</p>
<pre class="r"><code>studio_albums &lt;- spotify_df %&gt;% 
  filter(album_name != &quot;XXI - Klavier&quot;) %&gt;% 
  filter(album_name != &quot;RARITÄTEN (1994 - 2012)&quot;) %&gt;% 
  filter(album_name != &quot;Live aus Berlin&quot;)</code></pre>
<p>Check if we got them all</p>
<pre class="r"><code>unique(studio_albums$album_name)</code></pre>
<pre><code>## [1] &quot;RAMMSTEIN&quot;             &quot;LIEBE IST FÜR ALLE DA&quot; &quot;ROSENROT&quot;             
## [4] &quot;REISE, REISE&quot;          &quot;Mutter&quot;                &quot;Sehnsucht&quot;            
## [7] &quot;Herzeleid&quot;</code></pre>
<p>Every song gets scored by Spotify algorithms on:</p>
<pre class="r"><code>names(spotify_df)[12:19]</code></pre>
<pre><code>## [1] &quot;loudness&quot;         &quot;mode&quot;             &quot;speechiness&quot;     
## [4] &quot;acousticness&quot;     &quot;instrumentalness&quot; &quot;liveness&quot;        
## [7] &quot;valence&quot;          &quot;tempo&quot;</code></pre>
<p>So with the code by plzbeemyfriend that builds an graphical album representation by song we can get this graph of their first album:</p>
<pre class="r"><code>polar_spotify &lt;- studio_albums %&gt;%
  mutate(date = album_release_date %&gt;% 
           str_extract(&#39;(?&lt;=^\\d{2})\\d{2}&#39;) %&gt;%
           {paste0(&quot;&#39;&quot;, .)} ,
         album_name = album_name %&gt;%
           str_to_title() %&gt;%
           {paste0(., &#39; | &#39;, date)}) %&gt;%
  select(album_name,
         track_name,
         danceability,
         energy,
         loudness,
         speechiness,
         acousticness,
         valence,
         instrumentalness,
         tempo) %&gt;%
  mutate(loudness = (loudness + 60 )/ 60,
         tempo = tempo/200,
         end = danceability) %&gt;%
  gather(key = key, value = value, -album_name, -track_name) %&gt;%
  mutate(key = factor(key, levels = unique(key)),
         angle = as.numeric(key)/length(unique(key)) * 2 * pi,
         album_name = factor(album_name, levels = unique(album_name))) %&gt;% 
  filter(album_name == &quot;Herzeleid | &#39;95&quot;)

ggplot(polar_spotify, aes(x = angle, 
                          y = value, 
                          group = track_name)) +
  geom_point() +
  scale_x_continuous(breaks = unique(polar_spotify$angle) %&gt;% .[-length(.)],
                     labels = levels(polar_spotify$key) %&gt;% .[-length(.)],
                     name = &#39;&#39;,
                     minor_breaks = NULL)  +
  scale_y_continuous(name = &#39;&#39;) +
  coord_polar(theta = &#39;x&#39;) +
  geom_path()  + 
  theme_bw() + 
  theme(axis.text.x = element_text(angle = seq(0, -315, by = -45),
                                   size = 7)) +
  labs(title = &quot;Rammstein | Herzeleid | &#39;95&quot;,
       subtitle = &quot;Spotify Metrics&quot;)</code></pre>
<p><img src="/post/2019-05-17-rammstein-by-rammstein_files/figure-html/unnamed-chunk-9-1.png" width="768" /></p>
<p>And then compare their latest six albums:</p>
<pre class="r"><code>polar_spotify &lt;- studio_albums %&gt;%
  mutate(date = album_release_date %&gt;% 
           str_extract(&#39;(?&lt;=^\\d{2})\\d{2}&#39;) %&gt;%
           {paste0(&quot;&#39;&quot;, .)} ,
         album_name = album_name %&gt;%
           str_to_title() %&gt;%
           {paste0(., &#39; | &#39;, date)}) %&gt;%
  select(album_name,
         track_name,
         danceability,
         energy,
         loudness,
         speechiness,
         acousticness,
         valence,
         instrumentalness,
         tempo) %&gt;%
  mutate(loudness = (loudness + 60 )/ 60,
         tempo = tempo/200,
         end = danceability) %&gt;%
  gather(key = key, value = value, -album_name, -track_name) %&gt;%
  mutate(key = factor(key, levels = unique(key)),
         angle = as.numeric(key)/length(unique(key)) * 2 * pi,
         album_name = factor(album_name, levels = unique(album_name))) %&gt;% 
  filter(album_name != &quot;Herzeleid | &#39;95&quot;)

ggplot(polar_spotify, aes(x = angle, 
                          y = value, 
                          group = track_name)) +
  geom_point() +
  scale_x_continuous(breaks = unique(polar_spotify$angle) %&gt;% .[-length(.)],
                     labels = levels(polar_spotify$key) %&gt;% .[-length(.)],
                     name = &#39;&#39;,
                     minor_breaks = NULL)  +
  scale_y_continuous(name = &#39;&#39;) +
  coord_polar(theta = &#39;x&#39;) +
  geom_path()  + 
  theme_bw() + 
  theme(axis.text.x = element_text(angle = seq(0, -315, by = -45),
                                   size = 7)) +
  facet_wrap(~album_name) + 
  labs(title = &quot;Rammstein | Latest Studio Albums&quot;,
       subtitle = &quot;Spotify Metrics&quot;)</code></pre>
<p><img src="/post/2019-05-17-rammstein-by-rammstein_files/figure-html/unnamed-chunk-10-1.png" width="768" /></p>
<p>The different albums compared here. Does the ‘RAMMSTEIN’ look different to you from the other albums?</p>
<pre class="r"><code>dfScale &lt;- studio_albums %&gt;%
  select(album_name,acousticness,danceability,energy,loudness,tempo,valence) %&gt;%
  group_by(album_name) %&gt;%
  summarise(acousticness = mean(scale(acousticness)),
            danceability = mean(scale(danceability)),
            energy       = mean(scale(energy)),
            loudness     = mean(scale(loudness)),
            tempo        = mean(scale(tempo)),
            valence      = mean(scale(valence))) %&gt;%
  data.frame()

row.names(dfScale) &lt;- dfScale$album_name

dfScale %&lt;&gt;% 
  select(-album_name) %&gt;%
  data.frame()

df_dist &lt;- get_dist(dfScale, stand = TRUE)

fviz_dist(df_dist,gradient = list(low = gray(0)[1], mid = &quot;white&quot;, high = gray(1)[0])) +
  theme_minimal() +
  ggtitle(&quot;Distance matrix&quot;,
          subtitle  = &quot;Similarity between albums based on all features&quot;) +
  theme(axis.text.x = element_text(hjust = 1,angle = 45),
        axis.title = element_blank())</code></pre>
<p><img src="/post/2019-05-17-rammstein-by-rammstein_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>The new album would be more similar to ‘ROSENROT’ and most disimilar to thier first ‘Herzeleid’.</p>
<p>Only based on the Spotify metrics of course.</p>
<pre class="r"><code>dfScale %&gt;%
  mutate(albums = row.names(dfScale)) %&gt;%
  ggRadar(aes(group = albums), 
        rescale = FALSE, legend.position = &quot;none&quot;,
        size = 1, interactive = FALSE, use.label = TRUE) +
  facet_wrap(~albums) + 
  scale_y_discrete(breaks = NULL) +
  theme(axis.text.x = element_text(size = 10)) +
  theme_minimal() +
  theme(legend.position = &quot;none&quot;) +
  scale_fill_grey() +
  scale_colour_grey()</code></pre>
<p><img src="/post/2019-05-17-rammstein-by-rammstein_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>We can also group the albums into groups using k-means and hierarchical clustering. Here in 3 hierachical clusters.</p>
<pre class="r"><code>df.hc &lt;- hclust(dist(scale(dfScale)))

fviz_dend(df.hc, k = 3,
          cex = .9,
          k_colors = gray(1)[c(4,7)],
          color_labels_by_k = TRUE, 
          rect = TRUE) +
  ggtitle(&quot;Hierachical Clustering&quot;)</code></pre>
<p><img src="/post/2019-05-17-rammstein-by-rammstein_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>The new album is again closer to “LIEBE IST FÜR ALLE DA” and “ROSENROT”.</p>
<p>Now for k-mens clustering:</p>
<pre class="r"><code>set.seed(42)
km.res &lt;- kmeans(dfScale, 3, nstart = 25)

fviz_cluster(km.res, data = dfScale,
             ellipse.type = &quot;convex&quot;,
             repel = T,
             palette = gray.colors(10)[c(1,2,3)],
             ggtheme = theme_minimal(),
             main = &quot;K-means Clustering&quot;) </code></pre>
<p><img src="/post/2019-05-17-rammstein-by-rammstein_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Consistant.</p>
<center>
<p><strong>REISE, REISE, LIEBE IST FUR ALLE DA, RAMMSTEIN</strong>
&lt;&gt;</p>
<center>
<img src="/img/20190517/Deutschland.jpg" alt="album cover - RAMMSTEIN" />
</center>

      
      <div class="related">
</div>
      
    </div>
    
  </div>
</section>


<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
  
    <div id="show_comments"><a id="load_comments" class="button is-link">Load comments</a></div>
  
    <script type="text/javascript">
      var disqus_shortname = 'bad-to-the-code';
      function disqus() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }
  
      
      var hash = window.location.hash.substr(1);
      if ((hash.length > 8) && (hash.substring(0, 8) === "comment-")) {
        disqus();
        document.getElementById("show_comments").style.display = "none";
      } else {
        document.getElementById('load_comments').onclick = function() {
          disqus();
          document.getElementById("show_comments").style.display = "none";
        };
      }
  

    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://github.com/madcap1090">William Bourgeois</a> 2019</p>
    
      <p>Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/ribice/kiss">Kiss</a>.</p>
    
  </div>
</section>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-137981534-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="\/\/matomo.example.com\/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>
  <img src="//matomo.example.com/piwik.php?idsite=1&amp;rec=1" style="border:0" alt="" />
</noscript>


</body>
</html>

